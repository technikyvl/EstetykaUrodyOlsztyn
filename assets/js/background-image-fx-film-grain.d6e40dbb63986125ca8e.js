"use strict";(globalThis.webpackChunknew_bedford_framework=globalThis.webpackChunknew_bedford_framework||[]).push([[4019],{71694:(e,t,n)=>{n.d(t,{A:()=>v});n(94226);var i=n(23029),o=n(92901),r=n(50388),s=n(53954),a=n(85501),c=n(64467),l=n(91546);function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){(0,c.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function m(e,t,n){return t=(0,s.A)(t),(0,r.A)(e,p()?Reflect.construct(t,n||[],(0,s.A)(e).constructor):t.apply(e,n))}function p(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(p=function(){return!!e})()}var v=function(e){function t(e,n){return(0,i.A)(this,t),m(this,t,[e,d({programKey:"film-grain-program",frag:"\n//\n// Description : Array and textureless GLSL 2D/3D/4D simplex\n//               noise functions.\n//      Author : Ian McEwan, Ashima Arts.\n//  Maintainer : ijm\n//     Lastmod : 20110822 (ijm)\n//     License : Copyright (C) 2011 Ashima Arts. All rights reserved.\n//               Distributed under the MIT License. See LICENSE file.\n//               https://github.com/ashima/webgl-noise\n//\n\nvec3 mod289_692612174(vec3 x) {\n  return x - floor(x * (1.0 / 289.0)) * 289.0;\n}\n\nvec4 mod289_692612174(vec4 x) {\n  return x - floor(x * (1.0 / 289.0)) * 289.0;\n}\n\nvec4 permute_692612174(vec4 x) {\n     return mod289_692612174(((x*34.0)+1.0)*x);\n}\n\nvec4 taylorInvSqrt_692612174(vec4 r)\n{\n  return 1.79284291400159 - 0.85373472095314 * r;\n}\n\nfloat snoise(vec3 v)\n  {\n  const vec2  C = vec2(1.0/6.0, 1.0/3.0) ;\n  const vec4  D_692612174 = vec4(0.0, 0.5, 1.0, 2.0);\n\n// First corner\n  vec3 i  = floor(v + dot(v, C.yyy) );\n  vec3 x0 =   v - i + dot(i, C.xxx) ;\n\n// Other corners\n  vec3 g_692612174 = step(x0.yzx, x0.xyz);\n  vec3 l = 1.0 - g_692612174;\n  vec3 i1 = min( g_692612174.xyz, l.zxy );\n  vec3 i2 = max( g_692612174.xyz, l.zxy );\n\n  //   x0 = x0 - 0.0 + 0.0 * C.xxx;\n  //   x1 = x0 - i1  + 1.0 * C.xxx;\n  //   x2 = x0 - i2  + 2.0 * C.xxx;\n  //   x3 = x0 - 1.0 + 3.0 * C.xxx;\n  vec3 x1 = x0 - i1 + C.xxx;\n  vec3 x2 = x0 - i2 + C.yyy; // 2.0*C.x = 1/3 = C.y\n  vec3 x3 = x0 - D_692612174.yyy;      // -1.0+3.0*C.x = -0.5 = -D.y\n\n// Permutations\n  i = mod289_692612174(i);\n  vec4 p = permute_692612174( permute_692612174( permute_692612174(\n             i.z + vec4(0.0, i1.z, i2.z, 1.0 ))\n           + i.y + vec4(0.0, i1.y, i2.y, 1.0 ))\n           + i.x + vec4(0.0, i1.x, i2.x, 1.0 ));\n\n// Gradients: 7x7 points over a square, mapped onto an octahedron.\n// The ring size 17*17 = 289 is close to a multiple of 49 (49*6 = 294)\n  float n_ = 0.142857142857; // 1.0/7.0\n  vec3  ns = n_ * D_692612174.wyz - D_692612174.xzx;\n\n  vec4 j = p - 49.0 * floor(p * ns.z * ns.z);  //  mod(p,7*7)\n\n  vec4 x_ = floor(j * ns.z);\n  vec4 y_ = floor(j - 7.0 * x_ );    // mod(j,N)\n\n  vec4 x = x_ *ns.x + ns.yyyy;\n  vec4 y = y_ *ns.x + ns.yyyy;\n  vec4 h = 1.0 - abs(x) - abs(y);\n\n  vec4 b0 = vec4( x.xy, y.xy );\n  vec4 b1 = vec4( x.zw, y.zw );\n\n  //vec4 s0 = vec4(lessThan(b0,0.0))*2.0 - 1.0;\n  //vec4 s1 = vec4(lessThan(b1,0.0))*2.0 - 1.0;\n  vec4 s0 = floor(b0)*2.0 + 1.0;\n  vec4 s1 = floor(b1)*2.0 + 1.0;\n  vec4 sh = -step(h, vec4(0.0));\n\n  vec4 a0 = b0.xzyw + s0.xzyw*sh.xxyy ;\n  vec4 a1_692612174 = b1.xzyw + s1.xzyw*sh.zzww ;\n\n  vec3 p0_692612174 = vec3(a0.xy,h.x);\n  vec3 p1 = vec3(a0.zw,h.y);\n  vec3 p2 = vec3(a1_692612174.xy,h.z);\n  vec3 p3 = vec3(a1_692612174.zw,h.w);\n\n//Normalise gradients\n  vec4 norm = taylorInvSqrt_692612174(vec4(dot(p0_692612174,p0_692612174), dot(p1,p1), dot(p2, p2), dot(p3,p3)));\n  p0_692612174 *= norm.x;\n  p1 *= norm.y;\n  p2 *= norm.z;\n  p3 *= norm.w;\n\n// Mix final noise value\n  vec4 m = max(0.6 - vec4(dot(x0,x0), dot(x1,x1), dot(x2,x2), dot(x3,x3)), 0.0);\n  m = m * m;\n  return 42.0 * dot( m*m, vec4( dot(p0_692612174,x0), dot(p1,x1),\n                                dot(p2,x2), dot(p3,x3) ) );\n  }\n\n#define V_SEED_X 12.9898\n#define V_SEED_Y 78.233\n#define R_SEED 43758.5453\n\nuniform sampler2D uImage;\nuniform float uDepth;\nuniform float uNoise;\nuniform float uTime;\nuniform vec2 uResolution;\n\nvarying vec2 vUv;\n\nfloat luma(vec4 color) {\n  return dot(color.rgb, vec3(0.299, 0.587, 0.114));\n}\n\nfloat rand(vec2 co){\n  return fract(sin(dot(co.xy, vec2(V_SEED_X, V_SEED_Y))) * R_SEED);\n}\n\nfloat filmGrain(vec2 uv) {\n  float random = rand(uv + uTime);\n  return snoise(vec3(uv, random) + random);\n}\n\nvoid main (void) {\n  vec4 origin = texture2D(uImage, vUv);\n  float grain = filmGrain(vUv * uResolution);\n  vec3 color = origin.rgb;\n\n  color *= 1.0 + (grain * uNoise * (-1.0 + uDepth + luma(origin) * 0.75));\n\n  vec4 tx = vec4(color, origin.a);\n  tx.xyz *= tx.a;\n\n  gl_FragColor = tx;\n}\n",uniforms:{uTime:0}},n)])}return(0,a.A)(t,e),(0,o.A)(t,[{key:"getUniformsFromProps",value:function(){var e=this.props;return{uNoise:.01*e.intensity,uDepth:.01*e.shadow}}},{key:"update",value:function(){this.uniforms.uTime+=1e-4*this.props.speed}}])}(l.A);(0,c.A)(v,"defaultProps",{intensity:0,shadow:0,speed:0})},94926:(e,t,n)=>{n.d(t,{A:()=>u});var i=n(36630),o=n(21339),r=n(67373),s=n(73864),a=n(22902);const c={none:{type:"none"},liquid:{type:"liquid",scale:2,rotation:270,intensity:10,morphSpeed:5,seed:100,shadow:8,smoothness:100,speed:50},pan:{type:"parallax",intensity:12,rotation:15,zoomStart:10,zoomEnd:0},tilt:{type:"parallax",intensity:15,rotation:90,zoomStart:0,zoomEnd:0},zoom:{type:"parallax",intensity:0,rotation:90,zoomStart:30,zoomEnd:0},"film-grain":{type:"filmGrain",intensity:50,shadow:0,speed:30},"refracted-lines":{type:"refractedLines",intensity:-25,size:120,offsetScaleX:50,offsetScaleY:50,rotation:135,scale:80,interactionType:"scroll",shiftIntensity:25,shiftSpeed:20},"refracted-circles":{type:"refractedCircles",isLimitRings:!1,numRings:5,centerOffsetSize:55,size:150,rotation:2,scaleEven:100,scaleOdd:90,scaleTaperEven:10,scaleTaperOdd:-10,interactionType:"mouse",shiftIntensity:50,shiftSpeed:20,isStepFlipRotation:!0,isStepFlipX:!1,isStepFlipY:!1}};function l(e,t,n){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:i+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class u extends r.A{constructor(e,t){super(),l(this,"onImageLoaded",(()=>{this.isImageLoaded&&this.component?this.component.setProps({imageNeedsUpdate:!0}):(this.isImageLoaded=!0,this.initComponent())})),this.node=e,this.WebGLComponent=t,this.image=e.querySelector("img"),this.focalPoint=(0,a.TT)(this.image),this.section=e.closest("section");const{sectionId:n,currentStyles:o,currentContext:r}=this.section.dataset;this.sectionId=n,this.state=this.resolveImageEffectProps(JSON.parse(o),JSON.parse(r).backgroundMediaEffect),this.isImageLoaded=!1,this.isEnabled=i.A&&!s.oZ,this.image&&(this.isEnabled?this.checkImageLoaded():this.image.style.visibility="visible")}resolveImageEffectProps(e,t){return t&&"none"!==t.type?t:e.imageEffect?(e=>{const t=c[e];if(!t)throw new Error(`No props found for type: ${e}`);return t})(e.imageEffect):{}}checkImageLoaded(){this.image.onload=this.onImageLoaded,this.image.complete&&""!==this.image.currentSrc&&this.onImageLoaded()}initComponent(){const e=this.node.querySelector(".background-fx-canvas"),t=this.state;this.component=new o.A(this.WebGLComponent,e,{image:this.image,focalPoint:this.focalPoint,pixelRatio:Math.min(devicePixelRatio,1.5),...t})}destroy(){var e;null===(e=this.component)||void 0===e||e.destroy()}}},61269:(e,t,n)=>{n.d(t,{A:()=>r});var i=n(94926);function o(e,t,n){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:i+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class r extends i.A{constructor(e,t){super(e,t),o(this,"sectionWillChange",((e,t)=>{const{styles:n,backgroundMediaEffect:i}=t,o=this.resolveImageEffectProps(n,i);return o.type===this.state.type&&(this.component.setProps(o),this.setState(o),!0)}))}destroy(){super.destroy()}}},9912:(e,t,n)=>{n.r(t),n.d(t,{default:()=>s});var i=n(71694),o=n(61269);class r extends o.A{constructor(e){super(e,i.A)}}const s=e=>new r(e)},49632:(e,t,n)=>{n.r(t),n.d(t,{default:()=>s});var i=n(71694),o=n(94926);class r extends o.A{constructor(e){super(e,i.A)}}const s=e=>new r(e)},22902:(e,t,n)=>{n.d(t,{P6:()=>o,TT:()=>c,_v:()=>s,kr:()=>r,pG:()=>a});n(68444);var i=n(63285);const o=e=>{if(!e)return 1;if(!e.dataset.imageDimensions){const t=e.getAttribute("width"),n=e.getAttribute("height");return t&&n?+t/+n:1}const t=e.dataset.imageDimensions.split("x");return t[0]&&t[1]?+t[0]/+t[1]:void 0},r=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:20,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20;if(e<=t)return e;const n=window.innerWidth;return n<=i.fi.sm?Math.max(t,Math.round(.25*e)):n<=i.fi.md?Math.max(t,Math.round(.5*e)):n<=i.fi.lg?Math.max(t,Math.round(.75*e)):e},s=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;const t=window.innerWidth;let n=Math.max(1,e);return 1===n?n:t<=i.fi.sm?2:t<=i.fi.md?Math.max(Math.ceil(.5*n),2):t<=i.fi.lg?Math.ceil(.75*n):n},a=e=>{let t=0,n=0;const i={width:t,height:n};return e?(e.dataset.imageDimensions?[t,n]=e.dataset.imageDimensions.split("x"):(t=e.getAttribute("width"),n=e.getAttribute("height")),t&&n?{width:+t,height:+n}:i):i},c=e=>{const t={x:.5,y:.5};if(!e)return t;if(!e.dataset.imageFocalPoint)return t;const[n,i]=e.dataset.imageFocalPoint.split(",");return n&&i?{x:+n,y:+i}:t}}}]);